# ════════════════════════════════════════════════════════════
# CONFIGURATION BACKEND HYBRIDE
# Raspberry Pi (LOCAL) + HiveMQ Cloud (DISTANT) + Déduplication
# ════════════════════════════════════════════════════════════
#
# ⚠️ IMPORTANT :
# Ce fichier est un TEMPLATE PUBLIC (peut être partagé)
# Copier en .env et remplir avec VOS vraies valeurs
# Le fichier .env ne doit JAMAIS être uploadé sur GitHub !
# ════════════════════════════════════════════════════════════

# ════════════════════════════════════════════════════════════
# MONGODB ATLAS (OBLIGATOIRE)
# ════════════════════════════════════════════════════════════
MONGODB_URI=mongodb+srv://username:PASSWORD@cluster.mongodb.net/database_name?retryWrites=true&w=majority

# Comment obtenir :
# 1. https://cloud.mongodb.com
# 2. Database → Connect → Connect your application
# 3. Copier l'URI complète
# 4. Remplacer <password> par votre mot de passe
# 5. Remplacer <dbname> par "iot_sensors"


# ════════════════════════════════════════════════════════════
# MQTT LOCAL - RASPBERRY PI
# Pour utilisation à la maison (rapide, privé)
# ════════════════════════════════════════════════════════════
USE_LOCAL_MQTT=true
MQTT_LOCAL_BROKER=192.168.1.100
MQTT_LOCAL_PORT=1883

# Comment obtenir l'IP du Raspberry Pi :
# Sur le Raspberry Pi, taper : hostname -I
# Exemple : 172.22.241.241 ou 192.168.1.100
# ⚠️ Sur Render (cloud), mettre USE_LOCAL_MQTT=false


# ════════════════════════════════════════════════════════════
# MQTT CLOUD - HIVEMQ CLOUD
# Pour accès à distance (partout dans le monde)
# ════════════════════════════════════════════════════════════
USE_CLOUD_MQTT=true
MQTT_CLOUD_BROKER=xxxxxxxxxxxxx.s1.eu.hivemq.cloud
MQTT_CLOUD_PORT=8883
MQTT_CLOUD_USERNAME=esp8266
MQTT_CLOUD_PASSWORD=YOUR_HIVEMQ_PASSWORD_HERE

# Comment obtenir :
# 1. https://console.hivemq.cloud
# 2. Créer un cluster Serverless (gratuit, 100 connexions)
# 3. Access Management → Add credentials
# 4. Username : esp8266
# 5. Password : Générer et COPIER (ne peut plus être récupéré !)
# 6. Copier le Host depuis l'onglet Overview


# ════════════════════════════════════════════════════════════
# PORT SERVEUR
# ════════════════════════════════════════════════════════════
PORT=3000


# ════════════════════════════════════════════════════════════
# FRONTEND URL (pour CORS)
# ════════════════════════════════════════════════════════════
FRONTEND_URL=https://your-dashboard.netlify.app

# Remplacer par votre vraie URL Netlify après déploiement
# Exemple : https://mon-dashboard-iot.netlify.app
